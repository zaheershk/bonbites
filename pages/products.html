<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Products Management</title>
    <meta name="workflow-context" content="products">
    <link rel="stylesheet" href="../css/styles-dark.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <header>
        <div class="brand">
            <h1>Products Management</h1>
        </div>
    </header>
    <main>
        <br />
        <button id="productAddProductBtn" class="action-icons"><i class="fas fa-plus"></i> Add Product</button>
        <br />
        <div class="product-filters-container">
            <div class="product-filter-group">
                <label for="productSegmentFilter">Segment:</label>
                <select id="productSegmentFilter">
                    <option value="">All Segments</option>
                </select>
            </div>

            <div class="product-filter-group">
                <label for="productTypeFilter">Type:</label>
                <select id="productTypeFilter">
                    <option value="">All Types</option>
                </select>
            </div>

            <div class="product-filter-group">
                <label for="productAvailableFilter">Available:</label>
                <select id="productAvailableFilter">
                    <option value="">All</option>
                    <option value="Y">Yes</option>
                    <option value="N">No</option>
                </select>
            </div>

            <div class="product-filter-group search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="productSearchInput" placeholder="Search products..." class="search-input">
            </div>

            <button id="productResetFiltersBtn" class="product-btn-reset-filters">Reset Filters</button>
        </div>
        <div class="products-table-wrapper">
            <table id="productProductTable">
                <thead>
                    <tr>
                        <th data-column="image" data-sortable="false" class="product-image-column">Image</th>
                        <th data-column="segment" class="product-sortable">Segment</th>
                        <th data-column="type" class="product-sortable">Type</th>
                        <th data-column="name" class="product-sortable">Name</th>
                        <th data-column="ingredients" class="product-sortable">Ingredients</th>
                        <th data-column="description" class="product-sortable">Description</th>
                        <th data-column="price" class="product-sortable">Price</th>
                        <th data-column="isAvailable" class="product-sortable">Available</th>
                        <th data-sortable="false">Actions</th>
                    </tr>
                </thead>
                <tbody id="productProductTableBody">
                    <!-- Table content will be dynamically generated -->
                </tbody>
            </table>
        </div>
    </main>

    <div id="productProductModal" class="modal">
        <div class="modal-content">
            <span class="close" id="productCloseModalBtn">&times;</span>
            <form id="productProductForm">
                <input type="hidden" id="productId" name="productId">
                <label for="segment">Segment:</label>
                <select id="segment" name="segment" required>
                    <option value="">[Select]</option>
                    <!-- Options will be populated dynamically -->
                </select>
                <!-- <label for="type">Type:</label>
                <select id="type" name="type" required>
                    <option value="">[Select]</option>
                    <option value="Veg">Veg</option>
                    <option value="Non-Veg">Non-Veg</option>
                    <option value="Mixed">Mixed</option>
                </select> -->
                <input type="hidden" id="type" name="type" value="Mixed">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                <label for="ingredients">Ingredients:</label>
                <input type="text" id="ingredients" name="ingredients" required>
                <label for="description">Description:</label>
                <input type="text" id="description" name="description" required>
                <label for="image">Image:</label>
                <div class="product-image-upload-container">
                    <input type="file" id="image" name="image" accept="image/*">
                    <input type="hidden" id="imageUrl" name="imageUrl">
                </div>
                <div id="productImagePreviewContainer" style="margin-top: 10px; display: none;">
                    <p>Image Preview:</p>
                    <img id="productImagePreview"
                        style="max-width: 150px; max-height: 100px; object-fit: contain; border: 1px solid #ddd; border-radius: 4px; padding: 3px;" />
                </div>
                <!-- <label for="price">Price:</label>
                <div style="display: flex; align-items: center;">
                    <span style="margin-right: 5px;">â‚¹</span>
                    <input type="text" id="price" name="price" class="product-price-input" required>
                </div> -->
                <div class="variations-section">
                    <label>Product Variations:</label>
                    <div id="variationsContainer" class="variations-container">
                        <!-- Variations will be added here dynamically -->
                    </div>
                    <button type="button" id="addVariationBtn" class="btn-outline">
                        <i class="fas fa-plus"></i> Add Variation
                    </button>
                </div>
                <input type="hidden" id="price" name="price">
                <label for="isAvailable">Available:</label>
                <label class="switch">
                    <input type="checkbox" id="isAvailable" name="isAvailable">
                    <span class="slider"></span>
                </label>
                <hr class="separator">
                <div class="button-group">
                    <button type="submit" class="save-btn">Save</button>
                    <button type="button" class="cancel-btn" id="productCancelModalBtn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="loader" class="loader">Please wait...</div>

   <script src="../js/app.js"></script>
</body>

</html>